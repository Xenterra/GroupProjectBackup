{% extends 'base.html' %} 

{% block title %} Sensor List {% endblock %}

{% block content %}
<h1 name="listPage"></h1>
<!-- Container 1: search bar -->
<div class="container my-3 bg-success">
	<div class="row bg-warning">
		<!-- search bar -->
		<!-- <h1> All Sensor List </h1> -->
		<form action="/sensorListPage/" method="POST" class="form-inline">
			{% csrf_token %}
			<p> Search for a sensor by its: </p>
			<input type="radio" id="sensorID" name="searchType" value="sensorID" checked>
			<label for="sensorID"> SensorID </label>
			<input type="radio" id="longitude" name="searchType" value="longitude">
			<label for="longitude"> Longitude </label>
			<input type="radio" id="latitude" name="searchType" value="latitude">
			<label for="latitude"> Latitude </label>
			<input type="radio" id="installDate" name="searchType" value="installDate">
			<label for="installDate"> Install Date </label> <br>
			<input type="text" name="criteria" placeholder="Enter search..." style="width: 15%;">
		</form>
	</div>
</div>

<!-- Container 2: sensor list -->
<div class="container bg-dark my-3">
	<div class="row bg-info">
		<div class="col table-responsive"> 
			<table class="table table-striped table-bordered table-hover align-middle caption-top w-100" style="text-align: center;">
				<caption style="text-align:center; color: black;"> All Sensors </caption>
				<thead class="table-danger">
					<tr>
						<th> Sensor ID </th>
						<th> Longitude </th>
						<th> Latitude </th>
						<th> Sensor Type </th>
						<th> Data Type 1 </th><th> Data Type 2 </th><th> Data Type 3 </th>
						<th> Details </th>
					</tr>
				</thead>
				<tbody> 
					{% for sensor in sensors %} 
					<tr style="text-align: center;">
						<td> {{sensor.sensorID }} </td> 
						<td> {{sensor.longitude}} </td>
						<td> {{sensor.latitude}} </td>
						<td> {{sensor.sensorType}} </td>
						{% if sensor.sensorType == "SDS011" %}
						<td> P1 </td><td> P2 </td><td> - </td>
						{% elif sensor.sensorType == "BME280" %}
						<td> Temperature </td><td> Humidity </td><td> Pressure </td>
						{% elif sensor.sensorType == "DHT22" %}						
						<td> Temperature </td><td> Humidity </td><td> - </td>
						{% else %}
						<td> ERROR </td><td> ERROR </td><td> ERROR </td>
						{% endif %}
						<td> 
							<form method="POST" action="/sensor/">
								{% csrf_token %}
								<button class="selectButton btn btn-primary" id="Selection" name="Selection" value={{ sensor.sensorID }} > More Details </button>
							</form> 
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>

{% endblock %} 